<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>ブックマークレット</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="自作のブックマークレットを集めました">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <!-- <link rel="stylesheet" href="css/style.css"> -->
  </head>
  <body>
    <div class="container content">
      <div class="section">
        <h1>登録用ボタン</h1>
        <div class="columns">
          <div class="column">
            <!-- <button onclick="copyClipboard();" class="button is-medium is-fullwidth">クリップボードにコピー</button> -->
            <a href="javascript:var url = location.href;var input = prompt('○○を入力して下さい', 'デフォルト文字列');var element = document.querySelector('#js-select-box') ? document.querySelector('#js-select-box').value : '';var template = [`【クリップボードにコピー】`,`下記のようにページ内の情報から文章を作成し、クリップボードにコピーします。`,`※利用シーン：定型メール・メッセージの自動作成`,``,`==================================`,`このページのURLは「${url}」です。`,`確認ダイアログには「${input}」と入力しました。`,`セレクトボックスは「${element}」が選択されています。`,`==================================`,];var copyText = template.join('\n');setTimeout(() => {navigator.clipboard.writeText(copyText).then(function () {alert('クリップボードにコピーしました');}, function () {alert('コピーに失敗しました');});}, 400);" class="button is-medium is-fullwidth">クリップボードにコピー</a>
          </div>
          <div class="column">
            <!-- <button onclick="htmlInfo();" class="button is-medium is-fullwidth">HTMLの情報を表示</button> -->
            <a href="javascript:var title = document.title;var description = document.getElementsByName('description')[0].content;var element = document.querySelector('#js-select-box') ? document.querySelector('#js-select-box').value : '';var template = [`【HTMLの情報を表示】`,`※利用シーン：HTMLが不慣れな人が内容を確認する際の補助`,``,`==================================`,`このページのタイトルは「${title}」です。`,`このページのディスクリプションは「${description}」です。`,`セレクトボックスは「${element}」が選択されています。`,`==================================`,];var copyText = template.join('\n');alert(copyText);" class="button is-medium is-fullwidth">HTMLの情報を表示</a>
          </div>
          <div class="column">
            <!-- <button onclick="externalJs();" class="button is-medium is-fullwidth">外部のJSを実行</button> -->
            <a href="javascript:var bodyEl = document.body;var scriptEl = document.createElement('script');scriptEl.src = 'js/word_check.js';bodyEl.appendChild(scriptEl);" class="button is-medium is-fullwidth">外部のJSを実行</a>
          </div>
        </div>
        <div class="columns">
          <div class="column">
            <!-- <button onclick="domainChange();" class="button is-medium is-fullwidth">ドメインの切り替え</button> -->
            <a href="javascript:var domains = [{production:'127.0.0.1:5500', test:'test.com'},{production:'hoge.example.com', test:'poge.example.com'},];for(var service of domains ) {if(location.host == service['production']) {location.href = location.href.replace(service['production'], service['test']);break;} else if(location.host == service['test']) {location.href = location.href.replace(service['test'], service['production']);break;}}" class="button is-medium is-fullwidth">ドメインの切り替え</a>
          </div>
          <div class="column">
            <!-- <button onclick="wordHighlight();" class="button is-medium is-fullwidth">文言をハイライト</button> -->
            <a href="javascript:var bodyEl = document.body;var str = ['０','１','２','３','４','５','６','７','８','９','Ａ','Ｂ','Ｃ','Ｄ','Ｅ','Ｆ','Ｇ','Ｈ','Ｉ','Ｊ','Ｋ','Ｌ','Ｍ','Ｎ','Ｏ','Ｐ','Ｑ','Ｒ','Ｓ','Ｔ','Ｕ','Ｖ','Ｗ','Ｘ','Ｙ','Ｚ','ａ','ｂ','ｃ','ｄ','ｅ','ｆ','ｇ','ｈ','ｉ','ｊ','ｋ','ｌ','ｍ','ｎ','ｏ','ｐ','ｑ','ｒ','ｓ','ｔ','ｕ','ｖ','ｗ','ｘ','ｙ','ｚ','指定','JavaScript','。','康和','あ'];var count = 0;for(var i = 0; i < str.length; i++){var reg = new RegExp(str[i], 'g');var checkResult = wordCheck(reg, str[i]);if(checkResult) {count++;}}if(count === 0) {alert('ワードは検出されませんでした');} else {}function wordCheck(reg, str){var txt = bodyEl.innerHTML;if(txt.match(reg)){bodyEl.innerHTML = txt.replace(reg,`<b style='background:#FFFF00;display:inline-block;font-weight:bold;'>${str}</b>`);return true;} else {return false;}};" class="button is-medium is-fullwidth">文言をハイライト</a>
          </div>
          <div class="column">
            <!-- <button onclick="wordHighlight2();" class="button is-medium is-fullwidth">文言をハイライト2</button> -->
            <a href="javascript:var bodyEl = document.body;var checks = [['JS|ＪＳ', 'JavaScript', '省略せずに表記してください\n※ライブラリ名に利用されている場合は省略も可'],['\\d{4,}', '1,234', '4桁以上の数字にはカンマを入れてください'],['０', '0', '半角文字を利用してください'],];var count = 0;for(var i = 0; i < checks.length; i++){var check = checks[i];var checkResult = wordCheck(check);if(checkResult) {count++;}}if(count === 0) {alert('ワードは検出されませんでした');} else {}function wordCheck(check){var reg = new RegExp('(' + check[0] + ')', 'g');var str = check[1];var note = check[2];var txt = bodyEl.innerHTML;var styleStr = 'background:#ffcccc; display:inline-block; font-weight:bold; cursor:pointer; margin:0 2px; padding:0 4px; border-radius: 2px;';if(txt.match(reg)){bodyEl.innerHTML = txt.replace(reg,`<b style=\'${styleStr}\' title=\'【推奨文言：${str}】\n${note}\'>$1</b>`);return true;} else {return false;}};" class="button is-medium is-fullwidth">文言をハイライト2</a>
          </div>
        </div>
        <div class="columns">
          <div class="column">
            <!-- <button onclick="formInput();" class="button is-medium is-fullwidth">フォームに情報を入力</button> -->
            <a href="javascript:var targetInput = document.querySelector('#js-form-input');var selectBoxId = 'my-input__selectbox';var textId = 'my-input__text';var actionBtnId = 'my-btn__action';var cancelBtnId = 'my-btn__cancel';showModal();function showModal() {var style = `.my-overlay {position: fixed;top: 0;bottom: 0;left: 0;right: 0;display: flex;justify-content: center;align-items: center;background: rgba(0, 0, 0, 0.5);z-index: 99999;}.my-input__modal {padding: 12px;background: #fff;border-radius: 4px;}`;var html = `<div class='my-input__modal'><select id='${selectBoxId}'><option value='select1'>選択肢1</option><option value='select2'>選択肢2</option><option value='select3'>選択肢3</option></select><input type='text' id='${textId}'><button id='${actionBtnId}'>実行</button><button id='${cancelBtnId}'>キャンセル</button></div>`;var styleTag = document.createElement('style');styleTag.type = 'text/css';styleTag.innerHTML = style;document.getElementsByTagName('head').item(0).appendChild(styleTag);var htmlTag = document.createElement('div');htmlTag.classList.add('my-overlay');htmlTag.innerHTML = html;document.body.appendChild(htmlTag);setAction(htmlTag, styleTag);}function closeModal(htmlTag, styleTag) {htmlTag.parentNode.removeChild(htmlTag);styleTag.parentNode.removeChild(styleTag);}function setAction(htmlTag, styleTag) {actionBtnEl = document.getElementById(actionBtnId);cancelBtnEl = document.getElementById(cancelBtnId);actionBtnEl.addEventListener('click', () => {inputAction();closeModal(htmlTag, styleTag);});cancelBtnEl.addEventListener('click', () => {closeModal(htmlTag, styleTag);});}function inputAction() {selectBoxValue = document.getElementById(selectBoxId).value;textValue = document.getElementById(textId).value;targetInput.value = `【テキストを出力】\nセレクトボックス：${selectBoxValue}\nテキスト入力：${textValue}`;}" class="button is-medium is-fullwidth">フォームに情報を入力</a>
          </div>
        </div>
      </div>
      <div class="section">
        <h1>挙動テスト用</h1>
        <div class="field">
          <div class="select">
            <select id="js-select-box">
              <option>選択肢1</option>
              <option>選択肢2</option>
              <option>選択肢3</option>
            </select>
          </div>
        </div>
        <div class="field">
          <textarea id="js-form-input" class="textarea" placeholder="「フォームに情報を入力」での出力先"></textarea>
        </div>
        <p style="word-wrap: break-word;">30000,1200,300,０,１,２,３,４,５,６,７,８,９,Ａ,Ｂ,Ｃ,Ｄ,Ｅ,Ｆ,Ｇ,Ｈ,Ｉ,Ｊ,Ｋ,Ｌ,Ｍ,Ｎ,Ｏ,Ｐ,Ｑ,Ｒ,Ｓ,Ｔ,Ｕ,Ｖ,Ｗ,Ｘ,Ｙ,Ｚ,ａ,ｂ,ｃ,ｄ,ｅ,ｆ,ｇ,ｈ,ｉ,ｊ,ｋ,ｌ,ｍ,ｎ,ｏ,ｐ,ｑ,ｒ,ｓ,ｔ,ｕ,ｖ,ｗ,ｘ,ｙ,ｚ,指定,JS,ＪＳ,JavaScript,。,康和,あ,スマホ,SP,スマートフォン</p>
      </div>
    </div>
    <script src="js/index.js"></script>
  </body>
</html>
